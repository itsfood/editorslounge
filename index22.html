<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Icon -->
    <link rel="icon" href="./img/icon.ico" />
    <!-- Bootstrap Icons CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <!-- Personal Styling -->
    <link rel="stylesheet" href="styles22.css" />

    <title>The Editors' Lounge</title>
</head>

<body>
    <div id="bg"></div>
    <div id="title">
        <img src="./img/titleOff.png" id="titleimgoff">
        <img src="./img/title.png" id="titleimg">
    </div>
    <main class="container" style="display: none; opacity: 0;">
        <div class="linkbox">
            <h2>Apple Music</h2>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Cumque, beatae reprehenderit optio expedita
                aliquam delectus, dignissimos ad obcaecati aut deleniti quo? Corrupti omnis suscipit doloremque earum
                quae blanditiis, in quas.</p>
        </div>
    </main>


    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/MotionPathPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/TextPlugin.min.js"></script>

    <!-- Onload Effects -->
    <audio src="./audio/neonHum.mp3" autoplay id="neonHum"></audio>
    <script>
        // Detect safari
        let safari;
        var ua = navigator.userAgent.toLowerCase();
        if (ua.indexOf('safari') != -1) {
            if (ua.indexOf('chrome') > -1) {
                safari = false;
            } else {
                safari = true;
            }
        }
        var neonHum = document.querySelector("#neonHum");

        gsap.set('#title', { y: '20vh' });

        let titlewidth = document.querySelector('#titleimg').width;
        gsap.set('#titleimg, #titleimgoff', { left: (window.innerWidth / 2) - (titlewidth / 2) })

        let onload = gsap.timeline();
        onload.pause();
        onload.set('#titleimg', { opacity: 0.5 });
        onload.fromTo('#titleimg', { opacity: 0 }, { opacity: 0.5, duration: 0.4, ease: 'power1', delay: 0.2 })
        onload.fromTo('#titleimg', { opacity: 0 }, { opacity: 0.5, duration: 0.3, ease: 'power1' })
        onload.fromTo('#titleimg', { opacity: 0.5 }, { opacity: 1, duration: 3, ease: 'power1' })
        onload.to(".container", { display: 'block', opacity: 1, duration: 0.5, ease: 'power1' })

        if (safari) {
            gsap.set('#titleimg', { opacity: 0 });
            document.onclick = function () {
                neonHum.play()
                onload.play()
            }
        } else {
            window.onload = function () {
                gsap.set('#titleimg', { opacity: 0 });
                onload.play();
            }
        }

        let onscroll = gsap.timeline({
            scrollTrigger: {
                trigger: "#title",
                pin: true,
                start: "center center",
                end: "+=500",
                scrub: 1
            }
        })
        onscroll.to("#title", { y: '0vh', duration: 1 })
    </script>


</body>

</html>